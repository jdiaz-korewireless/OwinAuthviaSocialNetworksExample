@section Scripts
{
    <script type="text/javascript">

        $(document).ready(function ()
        {
            authenticate();
        });

        function authenticate()
        {
            var hash = window.location.hash;
            if (hash.indexOf('#url') == 0)
            {
                window.location = hash.replace('#url=', '');
            }
            else if (hash.indexOf('#access_token') == 0)
            {
                var hashValues = hash.split('=');

                var tokenType = hashValues[2].split('&')[0];
                var accessToken = hashValues[1].split('&')[0];

                opener.extAuthCallback(window, tokenType, accessToken);
            }
        }
    </script>
}

<div id="main">
    <div id="extAuthRequestSending">
        <div>
            <h1>Please wait,<br/>while we are connecting to the external provider...</h1>
            <div><img id="waitingImg" src="@Url.Content("~/Content/img/waiting.gif")" alt="waiting" /></div>
        </div>
    </div>
</div>